from datetime import datetime

def get_US_holiday_dates():
    """Get all US holiday dates. This is used to exclude these dates when plotting as the reported trades
    on these days usually drops substantially. The choice of the US holidays follows the Federal Reserve Bank
    Holiday Schedule."""

    US_holidays_dict = {
        'M_L_King_day':['2002-01-21', '2003-01-20','2004-01-19','2005-01-17','2006-01-16','2007-01-15','2008-01-21',
                        '2009-01-19', '2010-01-18', '2011-01-17', '2012-01-16', '2013-01-21', '2014-01-20', '2015-01-19',
                        '2016-01-18', '2017-01-16', '2018-01-15'],

        'President_day':['2002-02-18', '2003-02-17','2004-02-16','2005-02-21','2006-02-20','2007-02-19','2008-02-18',
                         '2009-02-16', '2010-02-15', '2011-02-21', '2012-02-20', '2013-02-18', '2014-02-17', '2015-02-16',
                         '2016-02-15', '2017-02-20', '2018-02-19'],

        # Exclude Good Friday and Easter Monday
        'Easter': ['2002-03-29', '2002-04-01', '2003-04-18', '2003-04-21', '2004-04-09', '2004-04-12',
                   '2005-03-25', '2005-03-28', '2006-04-14', '2006-04-17', '2007-04-06', '2007-04-09',
                   '2008-03-21', '2008-03-24', '2009-04-10', '2009-04-13', '2010-04-02', '2010-04-05',
                   '2011-04-22', '2011-04-25', '2012-04-06', '2012-04-09', '2013-03-29', '2013-04-01',
                   '2014-04-18', '2014-04-21', '2015-04-03', '2015-04-06', '2016-03-25', '2016-03-28',
                   '2017-04-14', '2017-04-17', '2018-03-30', '2018-04-02'],

        'Memorial_day':['2002-05-27', '2003-05-26','2004-05-31','2005-05-30','2006-05-29','2007-05-28','2008-05-26',
                        '2009-05-22', '2009-05-25', '2010-05-28', '2010-05-31', '2011-05-27', '2011-05-30', '2012-05-25',
                        '2012-05-28', '2013-05-24','2013-05-27', '2014-05-23', '2014-05-26', '2015-05-22', '2015-05-25',
                        '2016-05-27', '2016-05-30', '2017-05-26', '2017-05-29', '2018-05-28'],

        'Independence_day':['2002-07-04', '2003-07-04','2004-07-04','2005-07-04','2006-07-04','2007-07-04','2008-07-04',
                            '2009-07-02','2009-07-04', '2010-07-01', '2010-07-04', '2011-07-01', '2011-07-04', '2012-07-03',
                            '2012-07-04', '2013-07-03','2013-07-04','2013-07-05', '2014-07-03', '2014-07-04',
                            '2015-07-03', '2016-07-01', '2016-07-04', '2017-07-04', '2018-07-04'],

        'Labor_day':['2002-09-02', '2003-07-01','2004-09-06','2005-09-05','2006-09-04','2007-09-03','2008-09-01',
                     '2009-09-04', '2009-09-07', '2010-09-03', '2010-09-06', '2011-09-02', '2011-09-05', '2012-08-31',
                     '2012-09-03', '2013-08-30', '2013-09-02', '2014-08-29', '2014-09-01', '2015-09-04', '2015-09-07',
                     '2016-09-02','2016-09-05', '2017-09-01', '2017-09-04', '2018-09-03'],

        'Columbus_day':['2002-10-14', '2003-10-13','2004-10-11','2005-10-10','2006-10-09','2007-10-08','2008-10-13',
                        '2009-10-09', '2009-10-12', '2010-10-11', '2011-10-07', '2011-10-10', '2012-10-08', '2013-10-14',
                        '2014-10-10', '2014-10-13', '2015-10-12', '2016-10-10', '2017-10-09', '2018-10-08'],

        # Note: If the veterans day falls on a weekend than the Monday afterwards is free (case in 2007, 2012)
        # Hence, exclude these days too.
        'Veterans_day':['2002-11-11', '2003-11-11','2004-11-11','2005-11-11','2006-11-11','2007-11-11', '2007-11-12',
                        '2008-11-11', '2009-11-11', '2010-11-11', '2011-11-11', '2012-11-12', '2013-11-10', '2013-11-11',
                        '2014-11-11', '2015-11-11', '2016-11-11', '2017-11-11', '2018-11-11'],

        # Note, also exclude the day after Thanksgiving as it is mostly a holiday as well
        'Thanksgiving_day':['2002-11-28', '2002-11-29', '2003-11-27', '2003-11-28', '2004-11-25', '2004-11-26',
                            '2005-11-24', '2005-11-25', '2006-11-23', '2006-11-24', '2007-11-22', '2007-11-23',
                            '2008-11-27', '2008-11-28', '2009-11-25', '2009-11-26', '2009-11-27', '2010-11-24',
                            '2010-11-25', '2010-11-26', '2011-11-24', '2011-11-23', '2011-11-25', '2012-11-21',
                            '2012-11-22', '2012-11-23', '2013-11-27', '2013-11-28', '2013-11-29', '2014-11-26',
                            '2014-11-27', '2014-11-28', '2015-11-25', '2015-11-26', '2015-11-27', '2016-11-23',
                            '2016-11-24', '2016-11-25', '2017-11-22', '2017-11-23', '2017-11-24', '2018-11-22',
                            '2018-11-23'],

        # Exclude specific events based on individual-daz research (2012-10-29: Corporate bond market closed early
        # due to Hurricane Sandy.
        'specific_events':['2012-10-29'],

        # Exclude days which are shown to have extraordinarily few trades (5 out of 10 dates are 01/02 of January)
        'extremely_few_day_events':['2018-01-01', '2017-01-02', '2015-01-01', '2014-01-01', '2013-01-01', '2014-04-18',
                                    '2016-12-26', '2016-04-06', '2012-04-06', '2012-10-30', '2015-04-03']
    }
    # Combine all dates above into one list
    list_all_holidays = []
    for i in range(0, len(list(US_holidays_dict.keys()))):
        list_all_holidays = list_all_holidays + US_holidays_dict[list(US_holidays_dict.keys())[i]]
    # Convert the string dates to datetime obejects
    list_all_holidays = [datetime.strptime(date, '%Y-%m-%d').date() for date in list_all_holidays]

    return list_all_holidays

